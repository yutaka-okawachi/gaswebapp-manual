<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Richard Wagner 検索</title>
  <style>
    :root {
      --primary-bg: #fffaf7;
      --container-bg: #fff;
      --title-bg: #ffdce0;
      --title-border: #e35d76;
      --section-label-bg: #ffe9cc;
      --results-bg: #fff2e0;
      --button-bg: #79a9f2;
      --button-hover-bg: #5a8ad0;
      --danger-button-bg: #ff8c8c;
      --danger-button-hover-bg: #e26767;
      --clear-button-bg: #f7b267;
      --clear-button-hover-bg: #f49d4e;
      --input-border: #79a9f2;
      --input-bg: #f4faff;
      --text-color: #333;
      --placeholder-color: #aaa;
    }
    * { box-sizing: border-box; }
    body { margin: 0; padding: 0; font-family: "Yu Gothic", "Hiragino Kaku Gothic ProN", Meiryo, sans-serif; background: var(--primary-bg); line-height: 1.6; }
    .container { width: 90%; max-width: 1000px; margin: 20px auto; padding: 20px; background: var(--container-bg); box-shadow: 0 2px 8px rgba(0,0,0,0.1); min-height: 70vh; border-radius: 10px; }
    h1 { font-size: 1.5rem; margin-bottom: 20px; padding: 10px; text-align: center; background-color: var(--title-bg); border-bottom: 6px solid var(--title-border); border-radius: 6px; font-weight: bold; margin-top: 0; }
    .big-label { font-size: 1.2rem; margin: 20px 0 10px; padding: 8px; background-color: var(--section-label-bg); border-radius: 5px; font-weight: bold; }
    fieldset { margin-bottom: 20px; border: 1px solid #ccc; padding: 15px; border-radius: 10px; background-color: #fafafa; }
    legend { display: none; }
    .radio-group { display: flex; flex-wrap: wrap; gap: 10px 20px; }
    #opera-selection { display: block; }
    .radio-group label { display: block; margin-bottom: 8px; }
    .checkbox-group { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 5px 15px; }
    .checkbox-group hr { grid-column: 1 / -1; width: 100%; border: 0; border-top: 1px solid #ccc; margin: 5px 0; }
    .checkbox-group label { display: block; margin-bottom: 5px; }
    input[type="radio"], input[type="checkbox"] { margin-right: 8px; }
    .accordion-content { display: none; margin-top: 10px; }
    input[type="text"] { width: 100%; box-sizing: border-box; padding: 10px; margin-bottom: 10px; font-size: 1rem; border: 2px solid var(--input-border); border-radius: 10px; background-color: var(--input-bg); }
    input::placeholder { color: var(--placeholder-color); opacity: 1; }
    .button-container { text-align: center; margin-top: 20px; }
    button { margin: 8px 5px; padding: 8px 16px; font-size: 1rem; font-weight: bold; color: #fff; border: none; border-radius: 4px; cursor: pointer; transition: background-color 0.3s ease; }
    button.btn-search { background-color: var(--button-bg); }
    button.btn-search:hover { background-color: var(--button-hover-bg); }
    button.btn-danger { background-color: var(--danger-button-bg); }
    button.btn-danger:hover { background-color: var(--danger-button-hover-bg); }
    button.btn-clear { background-color: var(--clear-button-bg); }
    button.btn-clear:hover { background-color: var(--clear-button-hover-bg); }
    .loading, .result-message { font-family: Georgia, serif; font-size: 1.0em; font-weight: bold; text-align: center; padding: 20px; }
    #results { margin-top: 10px; background-color: #fff2e0; padding: 10px; border-radius: 5px; min-height: 150px; line-height: 1.5; }
    #results > div:first-child { margin-bottom: 15px; }
    .scene-title { font-size: 1.2em; font-weight: bold; padding-bottom: 4px; border-bottom: 2px solid #ccc; margin-top: 1.2em; margin-bottom: 10px; }
    #results > .scene-title:first-of-type { margin-top: 0; }
    .result-entry { display: flex; align-items: baseline; margin-bottom: 0.6em; font-size: 0.96em; }
    .result-page { flex: 0 0 4em; font-weight: normal; color: #555; white-space: nowrap; font-size: 0.9em; }
    .result-content { flex: 1; }
    .result-de { font-weight: bold; font-size: 1em; display: block; }
    .result-ja-loc { display: block; font-size: 0.94em; font-weight: normal; margin-top: 2px; }
    .result-ja-loc span:last-child { margin-left: 0.5em; font-size: 0.9em; color: #444; }
    .score-info { padding: 12px; margin-bottom: 20px; background-color: #eaf5fa; border: 1px solid #b3d9ff; border-left: 5px solid #79a9f2; border-radius: 5px; font-size: 0.95em; color: #333; }
    #scrollToTop { position: fixed; top: 20px; right: 20px; background-color: rgba(173,216,230,0.8); color: black; padding: 8px 12px; border-radius: 5px; cursor: pointer; font-size: 13px; z-index: 1000; display: none; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
    #scrollToTop:hover { background-color: rgba(135,206,250,0.9); }
  </style>
</head>
<body>
  <div class="container">
    <h1>曲名から検索 (Richard Wagner)</h1>
    <p>オーケストラに対する指示で Gustav Mahler の用語検索ページで何とかなりそうなものは基本的に不記載</p>

    <div class="big-label">曲を選択</div>
    <fieldset>
      <legend>オペラ</legend>
      <div class="radio-group" id="opera-selection">
        <label><input type="radio" name="opera" value="feen"> Die Feen, WWV 32 (1833-34)</label>
        <label><input type="radio" name="opera" value="liebes"> Das Liebesverbot, WWV 38 (1834)</label>
        <label><input type="radio" name="opera" value="rienzi"> Rienzi, WWV 49 (1840)</label>
        <label><input type="radio" name="opera" value="holländer"> Der fliegende Holländer, WWV 63 (1840-41)</label>
        <label><input type="radio" name="opera" value="tann_dresden"> Tannhäuser (Dresden), WWV 70 (1845)</label>
        <label><input type="radio" name="opera" value="tann_paris"> Tannhäuser (Paris), WWV 70 (1861)</label>
        <label><input type="radio" name="opera" value="lohengrin"> Lohengrin, WWV 75 (1846-48)</label>
        <label><input type="radio" name="opera" value="rheingold"> Das Rheingold, WWV 86A (1853-54)</label>
        <label><input type="radio" name="opera" value="walküre"> Die Walküre, WWV 86B (1854-56)</label>
        <label><input type="radio" name="opera" value="siegfried"> Siegfried, WWV 86C (1856-71)</label>
        <label><input type="radio" name="opera" value="götter"> Götterdämmerung, WWV 86D (1869-74)</label>
        <label><input type="radio" name="opera" value="tristan"> Tristan und Isolde, WWV 90 (1857-59)</label>
        <label><input type="radio" name="opera" value="meister"> Die Meistersinger von Nürnberg, WWV 96 (1862-67)</label>
        <label><input type="radio" name="opera" value="parsifal"> Parsifal, WWV 111 (1877-82)</label>
      </div>
    </fieldset>

    <div id="search-method-container" style="display: none;">
      <div class="big-label">検索方法を選択</div>
      <fieldset>
        <legend>方法</legend>
        <div class="radio-group">
          <label><input type="radio" name="search-type" value="scene"> 場面から選択</label>
          <label><input type="radio" name="search-type" value="page"> ページから選択</label>
        </div>
      </fieldset>
    </div>

    <div id="scene-selection-container" class="accordion-content">
      <fieldset>
        <legend>場面</legend>
        <div id="scene-options-wrapper"></div>
      </fieldset>
      <div class="button-container">
        <button type="button" onclick="searchByScene()" class="btn-search">検索</button>
        <button type="button" onclick="cancelSearch()" class="btn-danger">中止</button>
        <button type="button" onclick="clearScenes()" class="btn-clear">クリア</button>
      </div>
    </div>

    <div id="page-selection-container" class="accordion-content">
      <fieldset>
        <legend>ページ番号</legend>
        <p style="font-size: 0.9em; color: #555;">ページ番号を半角で入力（例 3,14,15-92）</p>
        <input type="text" id="page-input" placeholder="例 3,14,15-92">
      </fieldset>
      <div class="button-container">
        <button type="button" onclick="searchByPage()" class="btn-search">検索</button>
        <button type="button" onclick="cancelSearch()" class="btn-danger">中止</button>
        <button type="button" onclick="clearPageInput()" class="btn-clear">クリア</button>
      </div>
    </div>

    <div id="results"></div>
  </div>

  <div id="scrollToTop" onclick="scrollToTop()">▲ ページのトップへ戻る</div>
  <?!= include('common_scripts.html') ?>
  <?!= include('richard_wagner_script.html') ?>
</body>
</html>